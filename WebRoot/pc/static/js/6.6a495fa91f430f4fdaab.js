webpackJsonp([6],{"0QnY":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("SOXd"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-car"},[s("v-header",[t._v("惠搜车")]),t._v(" "),s("v-searchbar",{on:{getOptions:t.getOptions}}),t._v(" "),s("scroll",{ref:"carList",staticClass:"car-list",attrs:{data:t.carArr,"listen-scroll":t.listenScroll,"probe-type":t.probeType,pullup:t.isShow,pulldown:t.isShow},on:{scroll:t.scroll,pulldown:t.pulldown,scrollToEnd:t.pullup}},[s("div",{staticClass:"list-wraper"},[s("v-carList",{attrs:{carArr:t.carArr,"car-type":1}})],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.carArr.length,expression:"!carArr.length"}],staticClass:"loading-container"},[s("loading")],1)]),t._v(" "),s("router-view")],1)},n=[],r={render:a,staticRenderFns:n},o=r,l=s("vSla"),c=l(i.a,o,!1,null,null,null);e.default=c.exports},PsHH:function(t,e,s){"use strict";var i={data:function(){return{firstPay:[{text:"不限",value:"null-null"},{text:"1万以内",value:"0-1"},{text:"1-2万",value:"1-2"},{text:"2-3万",value:"2-3"},{text:"3-4万",value:"3-4"},{text:"4-5万",value:"4-5"},{text:"5万以上",value:"5-null"}],carPrice:[{text:"不限",value:"null-null"},{text:"10万以内",value:"0-10"},{text:"10-20万",value:"10-20"},{text:"20-50万",value:"20-50"},{text:"50-80万",value:"50-80"},{text:"80-100万",value:"80-100"},{text:"100万以上",value:"100-null"}],carStyle:[{text:"",value:""},{text:"小型车",value:"060001"},{text:"中型车",value:"060002"},{text:"SUV",value:"060003"},{text:"MPV",value:"060004"},{text:"跑车",value:"060005"}],searchOption:{brandId:null,fromFirstPayment:null,toFirstPayment:null,fromMonthPayment:null,toMonthPayment:null,fromCarCost:null,toCarCost:null,carLevelCd:null},showArr:[],itemIndex:0,firstPaySelcetedIndex:0,monthPaySelcetedIndex:0,carPriceSelcetedIndex:0,carstyleSelcetedIndex:0,activeIndex:null,customText:"",className:"price-item",isShow:!1,showType:""}},methods:{optionClick:function(t,e){this.showType=e,this.isShow=!0;var s=t.target.getAttribute("data-index");this.activeIndex=s,"firstpay"==this.showType&&0!=this.firstPaySelcetedIndex?this.itemIndex=this.firstPaySelcetedIndex:"monthpay"==this.showType&&0!=this.monthPaySelcetedIndex?this.itemIndex=this.monthPaySelcetedIndex:"carprice"==this.showType&&0!=this.carPriceSelcetedIndex?this.itemIndex=this.carPriceSelcetedIndex:"carstyle"==this.showType&&0!=this.carstyleSelcetedIndex?this.itemIndex=this.carstyleSelcetedIndex:this.itemIndex=0,this.showArr=this.createDropmenu(),this.$refs.from.value="",this.$refs.to.value=""},createDropmenu:function(){return"firstpay"==this.showType?(this.customText="自定义首付（万）",this.firstPay):"monthpay"==this.showType?(this.customText="自定义月供（元）",this.firstPay):"carprice"==this.showType?(this.customText="自定义车价（万）",this.carPrice):"carstyle"==this.showType?this.carStyle:void 0},setOption:function(t,e){this.itemIndex=e,this.isShow=!1,this.activeIndex=null;var s=void 0;s=t.indexOf("-")<0?t:t.split("-"),"firstpay"==this.showType&&(this.firstPaySelcetedIndex=e,this.searchOption.fromFirstPayment=s[0],this.searchOption.toFirstPayment=s[1],this.$refs.from.value="null"==s[0]?"":s[0],this.$refs.to.value="null"==s[1]?"":s[1]),"monthpay"==this.showType&&(this.monthPaySelcetedIndex=e,this.searchOption.fromMonthPayment=s[0],this.searchOption.toMonthPayment=s[1],this.$refs.from.value="null"==s[0]?"":s[0],this.$refs.to.value="null"==s[1]?"":s[1]),"carprice"==this.showType&&(this.carPriceSelcetedIndex=e,this.searchOption.fromCarCost=s[0],this.searchOption.toCarCost=s[1],this.$refs.from.value="null"==s[0]?"":s[0],this.$refs.to.value="null"==s[1]?"":s[1]),"carstyle"==this.showType&&(this.carstyleSelcetedIndex=e,this.searchOption.carLevelCd=s)},sureClick:function(){"firstpay"==this.showType&&(this.searchOption.fromFirstPayment=""==this.$refs.from.value?null:this.$refs.from.value,this.searchOption.toFirstPayment=""==this.$refs.to.value?null:this.$refs.to.value),"monthpay"==this.showType&&(this.searchOption.fromMonthPayment=""==this.$refs.from.value?null:this.$refs.from.value,this.searchOption.toMonthPayment=""==this.$refs.to.value?null:this.$refs.to.value),"carprice"==this.showType&&(this.searchOption.fromCarCost=""==this.$refs.from.value?null:this.$refs.from.value,this.searchOption.toCarCost=""==this.$refs.to.value?null:this.$refs.to.value),this.isShow=!1,this.activeIndex=null},resetOption:function(){this.searchOption={brandId:null,fromFirstPayment:null,toFirstPayment:null,fromMonthPayment:null,toMonthPayment:null,fromCarCost:null,toCarCost:null,carLevelCd:null},this.carstyleSelcetedIndex=0,this.carPriceSelcetedIndex=0,this.monthPaySelcetedIndex=0,this.firstPaySelcetedIndex=0,this.isShow=!1,this.activeIndex=null},getBrand:function(){this.$router.push({path:"/mobileSearchCar/brandList"})},watchData:function(t,e){this.$emit("getOptions",t)},watchTypeChange:function(t,e){this.className="carstyle"==t?"style-item":"price-item"}},watch:{searchOption:{handler:"watchData",deep:!0},showType:"watchTypeChange"}},a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"m-sear-bar"},[s("div",{staticClass:"search-nav"},[s("div",{staticClass:"search-option brand",on:{click:t.getBrand}},[t._v("品牌"),s("i",{staticClass:"icon-arrow-1"})]),t._v(" "),s("div",{staticClass:"search-option firstpay",attrs:{"data-index":"0"},on:{click:function(e){t.optionClick(e,"firstpay")}}},[t._v("首付"),s("i",{class:0==t.activeIndex?"icon-arrow-2":"icon-arrow-1"})]),t._v(" "),s("div",{staticClass:"search-option monthpay",attrs:{"data-index":"1"},on:{click:function(e){t.optionClick(e,"monthpay")}}},[t._v("月供"),s("i",{class:1==t.activeIndex?"icon-arrow-2":"icon-arrow-1"})]),t._v(" "),s("div",{staticClass:"search-option carprice",attrs:{"data-index":"2"},on:{click:function(e){t.optionClick(e,"carprice")}}},[t._v("车价"),s("i",{class:2==t.activeIndex?"icon-arrow-2":"icon-arrow-1"})]),t._v(" "),s("div",{staticClass:"search-option carstyle",attrs:{"data-index":"3"},on:{click:function(e){t.optionClick(e,"carstyle")}}},[t._v("车型"),s("i",{class:3==t.activeIndex?"icon-arrow-2":"icon-arrow-1"})]),t._v(" "),s("div",{staticClass:"search-option option-reset",on:{click:function(e){t.resetOption()}}},[s("i",{staticClass:"icon-reset"},[t._v("重置")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"m-drop-menu"},[t.showArr.length?s("ul",{staticClass:"option-list clearfix"},t._l(t.showArr,function(e,i){return s("li",{key:i,class:i==t.itemIndex?t.className+" active":t.className,on:{click:function(s){t.setOption(e.value,i)}}},[s("a",[t._v(t._s(e.text))])])})):t._e(),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"carstyle"!=t.showType,expression:"showType != 'carstyle'"}],staticClass:"customOption"},[s("p",[t._v(t._s(t.customText))]),t._v(" "),s("div",{staticClass:"inputs"},[s("input",{ref:"from",attrs:{type:"text",id:"from",placeholder:"最低"}}),t._v(" "),s("span",[t._v("--")]),t._v(" "),s("input",{ref:"to",attrs:{type:"text",id:"to",placeholder:"最高"}})]),t._v(" "),s("div",{staticClass:"m-btn"},[s("button",{staticClass:"weui-btn",on:{click:t.sureClick}},[t._v("确定")])])])])]),t._v(" "),t.isShow?s("div",{staticClass:"modal"}):t._e()])},n=[],r={render:a,staticRenderFns:n},o=r,l=s("vSla"),c=l(i,o,!1,null,null,null);e.a=c.exports},SOXd:function(t,e,s){"use strict";(function(t){var i=s("4YfN"),a=s.n(i),n=s("IHPB"),r=s.n(n),o=s("ZLEe"),l=s.n(o),c=s("/gtd"),h=s("PsHH"),u=s("lA3d"),d=s("1PCG"),p=s("ezFt"),v=s("2Uyi"),f=s("9rMa");e.a={data:function(){return{carArr:[],scrollY:0,isShow:!0,page:1,selectOptions:{}}},created:function(){this.probeType=3,this.listenScroll=!0,console.log(this.brand)},components:{vHeader:c.a,vSearchbar:h.a,vCarList:u.a,Scroll:d.a,Loading:p.a},methods:{pulldown:function(){this.carArr=[],this.page=1,this.$refs.carList.$emit("pullrefresh.finishLoad"),this.createJson()},pullup:function(){this.page&&(this.page++,this.$refs.carList.$emit("infinitescroll.reInit"),this.createJson(this.page))},getOptions:function(t){this.selectOptions=t,this.carArr=[],this.createJson()},createJson:function(t){var e={};e.pageSize=10,e.pageNum=t||1,0!=l()(this.selectOptions).length?(e.brandId=this.selectOptions.brandId,e.fromFirstPayment=this.selectOptions.fromFirstPayment,e.toFirstPayment=this.selectOptions.toFirstPayment,e.fromMonthPayment=this.selectOptions.fromMonthPayment,e.toMonthPayment=this.selectOptions.toMonthPayment,e.fromCarCost=this.selectOptions.fromCarCost,e.toCarCost=this.selectOptions.toCarCost,e.carLevelCd=this.selectOptions.carLevelCd):(e.brandId=null,e.fromFirstPayment=null,e.toFirstPayment=null,e.fromMonthPayment=null,e.toMonthPayment=null,e.fromCarCost=null,e.toCarCost=null,e.carLevelCd=null),this.getcarData(e)},getcarData:function(e){var s=this;t.ajax({url:v.a+"/queryLeaseCarList",type:"get",data:e,dataType:"json",asnyc:!0,success:function(t){console.log(t),t.code==v.c&&(t.data.leaseCarList.length>0?(s.carArr=[].concat(r()(s.carArr),r()(t.data.leaseCarList)),s.$refs.carList.$emit("infinitescroll.finishLoad")):(s.page=!1,s.$refs.carList.$emit("infinitescroll.loadedDone")))}})},scroll:function(t){this.scrollY=t.y,console.log(t.y)}},computed:a()({},Object(f.b)(["brand"])),mounted:function(){this.createJson(),this.$refs.carList.$el.style.top="80px"}}}).call(e,s("slT5"))}});
//# sourceMappingURL=6.6a495fa91f430f4fdaab.js.map