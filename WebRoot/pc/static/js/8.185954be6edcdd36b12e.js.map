{"version":3,"sources":["webpack:///framework/pc/static/js/8.185954be6edcdd36b12e.js","webpack:///src/components/base/listview/listview.vue","webpack:///./src/components/base/listview/listview.vue?4264","webpack:///./src/components/base/listview/listview.vue","webpack:///src/pages/mobile/m-brandList.vue","webpack:///./src/pages/mobile/m-brandList.vue?6bb8","webpack:///./src/pages/mobile/m-brandList.vue"],"names":["webpackJsonp","Qh6a","module","__webpack_exports__","__webpack_require__","m_header","scroll_scroll","loading","dom","listview","props","data","type","Array","default","computed","shortcutList","this","map","item","letter","fixedTitle","scrollY","currentIndex","diff","fixedClass","created","probeType","listenScroll","touch","listHeight","mounted","$refs","$el","style","top","methods","selectItem","$emit","onShortcutTouchStart","e","anchorIndex","Object","target","firstTouch","touches","y1","pageY","_scrollTo","onShortcutTouchMove","y2","delta","parseInt","refresh","scroll","pos","y","_calculateHeight","list","listGroup","height","push","i","length","clientHeight","index","scrollToElement","watch","_this","setTimeout","newY","height1","height2","newVal","fixedTop","fixed","transform","components","Scroll","Loading","vHeader","render","_vm","_h","$createElement","_c","_self","staticClass","class","attrs","_v","ref","listen-scroll","probe-type","on","_l","group","key","refInFor","_s","click","$event","id","src","brandIcon","brand","touchstart","stopPropagation","preventDefault","touchmove","touchend","current","data-index","directives","name","rawName","value","expression","staticRenderFns","esExports","listview_listview","normalizeComponent","Component","cgtm","$","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","n","__WEBPACK_IMPORTED_MODULE_1__components_base_listview_listview__","__WEBPACK_IMPORTED_MODULE_2__assets_js_common__","__WEBPACK_IMPORTED_MODULE_3_vuex__","brandList","vList","getbrandData","ajax","url","platForm","dataType","asnyc","success","code","console","log","dataTransform","obj","brandArr","getbrandId","setBrand","call","cmSn","defineProperty","m_brandList","select","mobile_m_brandList"],"mappings":"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","file":"static/js/8.185954be6edcdd36b12e.js","sourcesContent":["webpackJsonp([8],{\n\n/***/ \"Qh6a\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/mobile/m-header.vue + 2 modules\nvar m_header = __webpack_require__(\"/gtd\");\n\n// EXTERNAL MODULE: ./src/components/base/scroll/scroll.vue + 5 modules\nvar scroll_scroll = __webpack_require__(\"1PCG\");\n\n// EXTERNAL MODULE: ./src/components/base/loading/loading.vue + 2 modules\nvar loading = __webpack_require__(\"ezFt\");\n\n// EXTERNAL MODULE: ./src/assets/js/dom.js\nvar dom = __webpack_require__(\"xQdF\");\n\n// CONCATENATED MODULE: ./node_modules/_babel-loader@7.1.4@babel-loader/lib!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=script&index=0!./src/components/base/listview/listview.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\nvar TITLE_HEIGHT = 30;\nvar ANCHOR_HEIGHT = 18;\n\n/* harmony default export */ var listview = ({\n  props: {\n    data: {\n      type: Array,\n      default: []\n    }\n  },\n  computed: {\n    shortcutList: function shortcutList() {\n      return this.data.map(function (item) {\n        return item.letter;\n      });\n    },\n    fixedTitle: function fixedTitle() {\n      if (this.scrollY > 0) {\n        return '';\n      }\n      return this.data[this.currentIndex] ? this.data[this.currentIndex].letter : '';\n    }\n  },\n  data: function data() {\n    return {\n      scrollY: -1,\n      currentIndex: 0,\n      diff: -1,\n      fixedClass: \"fixed-header\"\n    };\n  },\n  created: function created() {\n    this.probeType = 3;\n    this.listenScroll = true;\n    this.touch = {};\n    this.listHeight = [];\n  },\n  mounted: function mounted() {\n    this.$refs.listview.$el.style.top = '44px';\n  },\n\n  methods: {\n    selectItem: function selectItem(item) {\n      this.$emit('select', item);\n    },\n    onShortcutTouchStart: function onShortcutTouchStart(e) {\n      var anchorIndex = Object(dom[\"b\" /* getData */])(e.target, 'index');\n      var firstTouch = e.touches[0];\n      this.touch.y1 = firstTouch.pageY;\n      this.touch.anchorIndex = anchorIndex;\n\n      this._scrollTo(anchorIndex);\n    },\n    onShortcutTouchMove: function onShortcutTouchMove(e) {\n      var firstTouch = e.touches[0];\n      this.touch.y2 = firstTouch.pageY;\n      var delta = (this.touch.y2 - this.touch.y1) / ANCHOR_HEIGHT | 0;\n      var anchorIndex = parseInt(this.touch.anchorIndex) + delta;\n      this._scrollTo(anchorIndex);\n    },\n    refresh: function refresh() {\n      this.$refs.listview.refresh();\n    },\n    scroll: function scroll(pos) {\n      this.scrollY = pos.y;\n    },\n    _calculateHeight: function _calculateHeight() {\n      this.listHeight = [];\n      var list = this.$refs.listGroup;\n      var height = 0;\n      this.listHeight.push(height);\n      for (var i = 0; i < list.length; i++) {\n        var item = list[i];\n        height += item.clientHeight;\n        this.listHeight.push(height);\n      }\n    },\n    _scrollTo: function _scrollTo(index) {\n      if (!index && index !== 0) {\n        return;\n      }\n      if (index < 0) {\n        index = 0;\n      } else if (index > this.listHeight.length - 2) {\n        index = this.listHeight.length - 2;\n      }\n      this.scrollY = -this.listHeight[index];\n      this.$refs.listview.scrollToElement(this.$refs.listGroup[index], 0);\n    }\n  },\n  watch: {\n    data: function data() {\n      var _this = this;\n\n      setTimeout(function () {\n        _this._calculateHeight();\n      }, 20);\n    },\n    scrollY: function scrollY(newY) {\n      var listHeight = this.listHeight;\n      // 当滚动到顶部，newY>0\n      if (newY > 0) {\n        this.currentIndex = 0;\n        return;\n      }\n      // 在中间部分滚动\n      for (var i = 0; i < listHeight.length - 1; i++) {\n        var height1 = listHeight[i];\n        var height2 = listHeight[i + 1];\n        if (-newY >= height1 && -newY < height2) {\n          this.currentIndex = i;\n          this.diff = height2 + newY;\n          return;\n        }\n      }\n      // 当滚动到底部，且-newY大于最后一个元素的上限\n      this.currentIndex = listHeight.length - 2;\n    },\n    diff: function diff(newVal) {\n      var fixedTop = newVal > 0 && newVal < TITLE_HEIGHT ? newVal - TITLE_HEIGHT : 0;\n      if (this.fixedTop === fixedTop) {\n        return;\n      }\n      this.fixedTop = fixedTop;\n      this.$refs.fixed.style.transform = 'translate3d(0,' + fixedTop + 'px,0)';\n    }\n  },\n  components: {\n    Scroll: scroll_scroll[\"a\" /* default */],\n    Loading: loading[\"a\" /* default */],\n    vHeader: m_header[\"a\" /* default */]\n  }\n});\n// CONCATENATED MODULE: ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-6e530264\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/base/listview/listview.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-brand-list\"},[_c('v-header',{class:_vm.fixedClass,attrs:{\"type\":2}},[_vm._v(\"全部品牌\")]),_vm._v(\" \"),_c('scroll',{ref:\"listview\",staticClass:\"listview\",attrs:{\"listen-scroll\":_vm.listenScroll,\"probe-type\":_vm.probeType,\"data\":_vm.data},on:{\"scroll\":_vm.scroll}},[_c('ul',{staticClass:\"m-brand-list\"},_vm._l((_vm.data),function(group,index){return _c('li',{key:index,ref:\"listGroup\",refInFor:true,staticClass:\"brandlist-group\"},[_c('h2',{staticClass:\"list-group-title\"},[_vm._v(_vm._s(group.letter))]),_vm._v(\" \"),_c('uL',_vm._l((group.brandArr),function(item,index){return _c('li',{key:index,staticClass:\"list-group-item\",on:{\"click\":function($event){_vm.selectItem(item.id)}}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":item.brandIcon}}),_vm._v(\" \"),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.brand))])])}))],1)})),_vm._v(\" \"),_c('div',{staticClass:\"list-shortcut\",on:{\"touchstart\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onShortcutTouchStart($event)},\"touchmove\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onShortcutTouchMove($event)},\"touchend\":function($event){$event.stopPropagation();}}},[_c('ul',_vm._l((_vm.shortcutList),function(item,index){return _c('li',{key:index,staticClass:\"item\",class:{'current':_vm.currentIndex===index},attrs:{\"data-index\":index}},[_vm._v(_vm._s(item)+\"\\n        \")])}))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.fixedTitle),expression:\"fixedTitle\"}],ref:\"fixed\",staticClass:\"list-fixed\"},[_c('div',{staticClass:\"fixed-title\"},[_vm._v(_vm._s(_vm.fixedTitle)+\" \")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.data.length),expression:\"!data.length\"}],staticClass:\"loading-container\"},[_c('loading')],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var listview_listview = (esExports);\n// CONCATENATED MODULE: ./src/components/base/listview/listview.vue\nvar normalizeComponent = __webpack_require__(\"vSla\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  listview,\n  listview_listview,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var base_listview_listview = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"cgtm\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(\"4YfN\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_base_listview_listview__ = __webpack_require__(\"Qh6a\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__assets_js_common__ = __webpack_require__(\"2Uyi\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vuex__ = __webpack_require__(\"9rMa\");\n\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      brandList: []\n    };\n  },\n  components: {\n    vList: __WEBPACK_IMPORTED_MODULE_1__components_base_listview_listview__[\"a\" /* default */]\n  },\n  methods: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({\n    getbrandData: function getbrandData() {\n      var _this = this;\n      $.ajax({\n        url: __WEBPACK_IMPORTED_MODULE_2__assets_js_common__[\"a\" /* MOBILE_COMMONURL */] + \"/queryAllBrand\",\n        type: \"get\",\n        data: {\n          'platForm': '020005'\n        },\n        dataType: 'json',\n        asnyc: true,\n        success: function success(data) {\n          if (data.code == __WEBPACK_IMPORTED_MODULE_2__assets_js_common__[\"c\" /* SUCCESS_CODE */]) {\n            console.log(data);\n            _this.dataTransform(data.data.brandList);\n          }\n        }\n      });\n    },\n    dataTransform: function dataTransform(data) {\n      var _this = this;\n      for (var key in data) {\n        var obj = new Object();\n        obj.letter = key;\n        obj.brandArr = data[key];\n        _this.brandList.push(obj);\n        console.log(key);\n      }\n    },\n    getbrandId: function getbrandId(data) {\n      console.log(data);\n      this.setBrand(data);\n    }\n  }, Object(__WEBPACK_IMPORTED_MODULE_3_vuex__[\"c\" /* mapMutations */])({\n    setBrand: \"SET_BRAND\"\n  })),\n  mounted: function mounted() {\n    this.getbrandData();\n  }\n});\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(\"slT5\")))\n\n/***/ }),\n\n/***/ \"cmSn\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/_babel-loader@7.1.4@babel-loader/lib!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=script&index=0!./src/pages/mobile/m-brandList.vue\nvar m_brandList = __webpack_require__(\"cgtm\");\n\n// CONCATENATED MODULE: ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-0d6be62f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/pages/mobile/m-brandList.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('v-list',{attrs:{\"data\":_vm.brandList},on:{\"select\":_vm.getbrandId}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var mobile_m_brandList = (esExports);\n// CONCATENATED MODULE: ./src/pages/mobile/m-brandList.vue\nvar normalizeComponent = __webpack_require__(\"vSla\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  m_brandList[\"a\" /* default */],\n  mobile_m_brandList,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var pages_mobile_m_brandList = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/8.185954be6edcdd36b12e.js","<template>\r\n  <div class=\"m-brand-list\">\r\n    <v-header :type=2 :class=\"fixedClass\">全部品牌</v-header>\r\n    <scroll @scroll=\"scroll\" :listen-scroll=\"listenScroll\" :probe-type=\"probeType\" :data=\"data\" class=\"listview\" ref=\"listview\">\r\n      <ul class=\"m-brand-list\">\r\n        <li v-for=\"(group,index) in data\" class=\"brandlist-group\" ref=\"listGroup\" :key=\"index\">\r\n          <h2 class=\"list-group-title\">{{group.letter}}</h2>\r\n          <uL>\r\n            <li @click=\"selectItem(item.id)\" v-for=\"(item,index) in group.brandArr\" :key=\"index\" class=\"list-group-item\">\r\n              <img class=\"avatar\" :src=\"item.brandIcon\">\r\n              <span class=\"name\">{{item.brand}}</span>\r\n            </li>\r\n          </uL>\r\n        </li>\r\n      </ul>\r\n      <div class=\"list-shortcut\" @touchstart.stop.prevent=\"onShortcutTouchStart\" @touchmove.stop.prevent=\"onShortcutTouchMove\"\r\n          @touchend.stop>\r\n        <ul>\r\n          <li v-for=\"(item, index) in shortcutList\" :data-index=\"index\" class=\"item\" :class=\"{'current':currentIndex===index}\" :key=\"index\">{{item}}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"list-fixed\" ref=\"fixed\" v-show=\"fixedTitle\">\r\n        <div class=\"fixed-title\">{{fixedTitle}} </div>\r\n      </div>\r\n      <div v-show=\"!data.length\" class=\"loading-container\">\r\n        <loading></loading>\r\n      </div>\r\n    </scroll>\r\n  </div>\r\n  \r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import vHeader from '@/components/mobile/m-header'\r\n  import Scroll from '@/components/base/scroll/scroll'\r\n  import Loading from '@/components/base/loading/loading'\r\n  import {getData} from '@/assets/js/dom'\r\n\r\n  const TITLE_HEIGHT = 30\r\n  const ANCHOR_HEIGHT = 18\r\n\r\n  export default {\r\n    props: {\r\n      data: {\r\n        type: Array,\r\n        default: []\r\n      }\r\n    },\r\n    computed: {\r\n      shortcutList() {\r\n        return this.data.map((item) => {\r\n          return item.letter\r\n        })\r\n      },\r\n      fixedTitle() {\r\n        if (this.scrollY > 0) {\r\n          return ''\r\n        }\r\n        return this.data[this.currentIndex] ? this.data[this.currentIndex].letter : ''\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        scrollY: -1,\r\n        currentIndex: 0,\r\n        diff: -1,\r\n        fixedClass:\"fixed-header\"\r\n      }\r\n    },\r\n    created() {\r\n      this.probeType = 3\r\n      this.listenScroll = true\r\n      this.touch = {}\r\n      this.listHeight = []\r\n    },\r\n    mounted(){\r\n      this.$refs.listview.$el.style.top = '44px'\r\n    },\r\n    methods: {\r\n      selectItem(item) {\r\n        this.$emit('select', item);\r\n      },\r\n      onShortcutTouchStart(e) {\r\n        let anchorIndex = getData(e.target, 'index')\r\n        let firstTouch = e.touches[0]\r\n        this.touch.y1 = firstTouch.pageY\r\n        this.touch.anchorIndex = anchorIndex\r\n\r\n        this._scrollTo(anchorIndex)\r\n      },\r\n      onShortcutTouchMove(e) {\r\n        let firstTouch = e.touches[0]\r\n        this.touch.y2 = firstTouch.pageY\r\n        let delta = (this.touch.y2 - this.touch.y1) / ANCHOR_HEIGHT | 0\r\n        let anchorIndex = parseInt(this.touch.anchorIndex) + delta\r\n        this._scrollTo(anchorIndex)\r\n      },\r\n      refresh() {\r\n        this.$refs.listview.refresh()\r\n      },\r\n      scroll(pos) {\r\n        this.scrollY = pos.y\r\n      },\r\n      _calculateHeight() {\r\n        this.listHeight = []\r\n        const list = this.$refs.listGroup\r\n        let height = 0\r\n        this.listHeight.push(height)\r\n        for (let i = 0; i < list.length; i++) {\r\n          let item = list[i]\r\n          height += item.clientHeight\r\n          this.listHeight.push(height)\r\n        }\r\n      },\r\n      _scrollTo(index) {\r\n        if (!index && index !== 0) {\r\n          return\r\n        }\r\n        if (index < 0) {\r\n          index = 0\r\n        } else if (index > this.listHeight.length - 2) {\r\n          index = this.listHeight.length - 2\r\n        }\r\n        this.scrollY = -this.listHeight[index]\r\n        this.$refs.listview.scrollToElement(this.$refs.listGroup[index], 0)\r\n      }\r\n    },\r\n    watch: {\r\n      data() {\r\n        setTimeout(() => {\r\n          this._calculateHeight()\r\n        }, 20)\r\n      },\r\n      scrollY(newY) {\r\n        const listHeight = this.listHeight\r\n        // 当滚动到顶部，newY>0\r\n        if (newY > 0) {\r\n          this.currentIndex = 0\r\n          return\r\n        }\r\n        // 在中间部分滚动\r\n        for (let i = 0; i < listHeight.length - 1; i++) {\r\n          let height1 = listHeight[i]\r\n          let height2 = listHeight[i + 1]\r\n          if (-newY >= height1 && -newY < height2) {\r\n            this.currentIndex = i\r\n            this.diff = height2 + newY\r\n            return\r\n          }\r\n        }\r\n        // 当滚动到底部，且-newY大于最后一个元素的上限\r\n        this.currentIndex = listHeight.length - 2\r\n      },\r\n      diff(newVal) {\r\n        let fixedTop = (newVal > 0 && newVal < TITLE_HEIGHT) ? newVal - TITLE_HEIGHT : 0\r\n        if (this.fixedTop === fixedTop) {\r\n          return\r\n        }\r\n        this.fixedTop = fixedTop\r\n        this.$refs.fixed.style.transform = `translate3d(0,${fixedTop}px,0)`\r\n      }\r\n    },\r\n    components: {\r\n      Scroll,\r\n      Loading,\r\n      vHeader\r\n    }\r\n  }\r\n\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/base/listview/listview.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-brand-list\"},[_c('v-header',{class:_vm.fixedClass,attrs:{\"type\":2}},[_vm._v(\"全部品牌\")]),_vm._v(\" \"),_c('scroll',{ref:\"listview\",staticClass:\"listview\",attrs:{\"listen-scroll\":_vm.listenScroll,\"probe-type\":_vm.probeType,\"data\":_vm.data},on:{\"scroll\":_vm.scroll}},[_c('ul',{staticClass:\"m-brand-list\"},_vm._l((_vm.data),function(group,index){return _c('li',{key:index,ref:\"listGroup\",refInFor:true,staticClass:\"brandlist-group\"},[_c('h2',{staticClass:\"list-group-title\"},[_vm._v(_vm._s(group.letter))]),_vm._v(\" \"),_c('uL',_vm._l((group.brandArr),function(item,index){return _c('li',{key:index,staticClass:\"list-group-item\",on:{\"click\":function($event){_vm.selectItem(item.id)}}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":item.brandIcon}}),_vm._v(\" \"),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.brand))])])}))],1)})),_vm._v(\" \"),_c('div',{staticClass:\"list-shortcut\",on:{\"touchstart\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onShortcutTouchStart($event)},\"touchmove\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onShortcutTouchMove($event)},\"touchend\":function($event){$event.stopPropagation();}}},[_c('ul',_vm._l((_vm.shortcutList),function(item,index){return _c('li',{key:index,staticClass:\"item\",class:{'current':_vm.currentIndex===index},attrs:{\"data-index\":index}},[_vm._v(_vm._s(item)+\"\\n        \")])}))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.fixedTitle),expression:\"fixedTitle\"}],ref:\"fixed\",staticClass:\"list-fixed\"},[_c('div',{staticClass:\"fixed-title\"},[_vm._v(_vm._s(_vm.fixedTitle)+\" \")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.data.length),expression:\"!data.length\"}],staticClass:\"loading-container\"},[_c('loading')],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-6e530264\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/base/listview/listview.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./listview.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./listview.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6e530264\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./listview.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/base/listview/listview.vue\n// module id = null\n// module chunks = ","<template>\r\n   <transition name=\"slide\">\r\n     <v-list :data = \"brandList\" @select='getbrandId'></v-list>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport vList from \"@/components/base/listview/listview\"\r\nimport {MOBILE_COMMONURL,SUCCESS_CODE} from '@/assets/js/common'\r\nimport {mapMutations} from 'vuex'\r\nexport default {\r\n  data:function(){\r\n    return{\r\n      brandList:[]\r\n    }\r\n  },\r\n  components:{\r\n    vList\r\n  },\r\n  methods:{\r\n    getbrandData:function(){\r\n        let _this = this;\r\n        $.ajax({\r\n            url:MOBILE_COMMONURL+\"/queryAllBrand\",\r\n            type:\"get\",\r\n            data:{\r\n                'platForm':'020005'\r\n            },\r\n            dataType:'json',\r\n            asnyc:true,\r\n            success:function(data){\r\n                if(data.code == SUCCESS_CODE){\r\n                  console.log(data);\r\n                  _this.dataTransform(data.data.brandList);\r\n                }\r\n            }\r\n        })\r\n    },\r\n    dataTransform:function(data){\r\n        let _this = this;\r\n        for(let key in data){\r\n          let obj = new Object();\r\n          obj.letter = key;\r\n          obj.brandArr = data[key];\r\n          _this.brandList.push(obj);\r\n          console.log(key);\r\n        }\r\n    },\r\n    getbrandId(data){\r\n      console.log(data);\r\n      this.setBrand(data);\r\n    },\r\n    ...mapMutations({\r\n      setBrand:\"SET_BRAND\"\r\n    })\r\n  },\r\n  mounted:function(){\r\n    this.getbrandData();\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/mobile/m-brandList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('v-list',{attrs:{\"data\":_vm.brandList},on:{\"select\":_vm.getbrandId}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-0d6be62f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/pages/mobile/m-brandList.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./m-brandList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./m-brandList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0d6be62f\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./m-brandList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/mobile/m-brandList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}